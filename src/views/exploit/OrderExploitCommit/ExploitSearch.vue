<template>
  <div class="exploitSearch">
    <a-form layout="inline" :model="formState">
      <a-form-item label="表名">
        <a-input v-model:value.trim="formState.name" placeholder="请输入表名" />
      </a-form-item>
      <a-form-item label="表类型">
        <a-select ref="select" v-model:value="formState.type" style="width: 120px" placeholder="请选择表类型">
          <a-select-option value="1">单选</a-select-option>
          <a-select-option value="2">单表(树)</a-select-option>
          <a-select-option value="3">主表</a-select-option>
          <a-select-option value="4">附表</a-select-option>
        </a-select>
      </a-form-item>
      <a-form-item label="表描述">
        <a-input v-model:value.trim="formState.describe" placeholder="请输入表描述" />
      </a-form-item>
      <a-form-item>
        <a-button type="primary" :icon="h(SearchOutlined)" @click="isQuery">查询</a-button>
      </a-form-item>
      <a-form-item>
        <a-button :icon="h(SyncOutlined)" @click="resEnd">重置</a-button>
      </a-form-item>
    </a-form>
  </div>
</template>

<script setup lang='ts'>
import { reactive, h, defineEmits } from 'vue'
import { SearchOutlined, SyncOutlined } from '@ant-design/icons-vue'
import { query } from '../../../api/orderExploit'
const formState: any = reactive({
  name: '',
  type: '',
  describe: ''
})
//重置输入
const resEnd = () => {
  formState.name = ''
  formState.type = ''
  formState.describe = ''
}
const emit = defineEmits(['isQuery'])
const isQuery = async () => {
  const { result } = await query({
    tableName: formState.name,
    tableTxt: formState.describe
  })
  console.log(result);
  emit('isQuery', result)
}
</script>

<style lang='less' scoped ></style>
